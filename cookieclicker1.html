<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Clicker Game</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-image: url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD..."); /* Your background image */
            color: #fff;
        }
        .game-container {
            text-align: center;
            margin-top: 50px;
        }
        .button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        .button:hover {
            background-color: #0056b3;
        }
        .stats {
            margin: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>

    <div class="game-container">
        <h1>Christmas Clicker Game</h1>

        <div class="stats">
            <p>Clicks: <span id="clicks">0</span></p>
            <p>CPC (Clicks per Click): <span id="cpc">1</span></p>
            <p>CPS (Clicks per Second): <span id="cps">0</span></p>
            <p>Offline Earnings: <span id="offline-earnings">0</span></p>
        </div>

        <button class="button" id="click-btn">Click!</button>
        <button class="button" id="upgrade-btn">Upgrade CPC & CPS</button>

        <p>Earned offline: <span id="offline-time"></span></p>
    </div>

    <script>
        // Game variables
        let clicks = 0;
        let cpc = 1; // Clicks per Click
        let cps = 0; // Clicks per Second
        let offlineEarnings = 0;
        let lastClickTime = Date.now();
        let upgradeCost = 50; // Cost of upgrading CPC and CPS

        // Elements
        const clicksElement = document.getElementById("clicks");
        const cpcElement = document.getElementById("cpc");
        const cpsElement = document.getElementById("cps");
        const offlineEarningsElement = document.getElementById("offline-earnings");
        const clickBtn = document.getElementById("click-btn");
        const upgradeBtn = document.getElementById("upgrade-btn");
        const offlineTimeElement = document.getElementById("offline-time");

        // Load saved data from localStorage
        function loadGameData() {
            const savedClicks = localStorage.getItem('clicks');
            const savedCPC = localStorage.getItem('cpc');
            const savedCPS = localStorage.getItem('cps');
            const savedOfflineEarnings = localStorage.getItem('offlineEarnings');

            if (savedClicks !== null) clicks = parseInt(savedClicks);
            if (savedCPC !== null) cpc = parseInt(savedCPC);
            if (savedCPS !== null) cps = parseInt(savedCPS);
            if (savedOfflineEarnings !== null) offlineEarnings = parseInt(savedOfflineEarnings);

            // Update the UI with loaded data
            updateStats();
        }

        // Save game data to localStorage
        function saveGameData() {
            localStorage.setItem('clicks', clicks);
            localStorage.setItem('cpc', cpc);
            localStorage.setItem('cps', cps);
            localStorage.setItem('offlineEarnings', offlineEarnings);
        }

        // Update the displayed stats
        function updateStats() {
            clicksElement.textContent = clicks;
            cpcElement.textContent = cpc;
            cpsElement.textContent = cps;
            offlineEarningsElement.textContent = offlineEarnings;
        }

        // Handle clicking
        clickBtn.addEventListener("click", () => {
            clicks += cpc; // Increase clicks by CPC value
            updateStats();
            saveGameData();
        });

        // Handle upgrading CPC and CPS
        upgradeBtn.addEventListener("click", () => {
            if (clicks >= upgradeCost) {
                clicks -= upgradeCost;
                cpc *= 2;
                cps *= 2;
                updateStats();
                saveGameData();
            } else {
                alert("Not enough clicks to upgrade!");
            }
        });

        // Handle offline earnings
        function calculateOfflineEarnings() {
            const now = Date.now();
            const elapsedTime = Math.floor((now - lastClickTime) / 1000); // seconds elapsed
            offlineEarnings += cps * elapsedTime; // Earn based on CPS
            offlineTimeElement.textContent = `${elapsedTime} seconds`;
            saveGameData();
        }

        // Start offline earnings calculation
        setInterval(calculateOfflineEarnings, 1000);

        // Load the game data when the page loads
        window.onload = function () {
            loadGameData();
        };

        // Periodically save the game data to ensure progress is stored
        setInterval(saveGameData, 10000); // Save every 10 seconds

    </script>
</body>
</html>
